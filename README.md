# Online Song Library 

---
## Описание 
#### Проект представляет собой REST API для онлайн библиотеки песен.
 - Получать список песен с возможностью фильтрации по всем полям и с пагинацией
 - Получать текст песни с разбивкой на куплеты (пагинация по куплетам)
 - Удалять и обновлять данные песни
 - Добавлять новую песню в формате JSON. При добавлении происходит вызов внешнего API для получения дополнительной информации (дата релиза, текст и ссылка) и сохранения обогащённых данных в базу PostgreSQL.
## Пример входного json файла
```JSON
  {
    "group": "Muse",
    "song": "Supermassive Black Hole"
  }
```
---
## Хранение данных
Все данные сохраняются в базе данных PostgreSQL. Структура БД создаётся автоматически при старте сервиса посредством миграций.

---

## Логирование:
Используется библиотека logrus для логирования сообщений [DEBUG] и [INFO].

---

## Конфигурация 

Конфигурационные данные (например, URL подключения к БД, порт API, URL внешнего API) загружаются из переменных окружения, при отсутствии которых производится попытка загрузки файла

Для примера я так же создал файл .env.example. В нем показана полная структура того как должен выглядить конфигурационный файл

Так же пример .env файла указана ниже 
```.env
ATABASE_URL=postgres://postgres_or_your_pgSQL_nickname:your_password@localhost:5432/your_db_name?sslmode=disable
API_PORT=8080
EXTERNAL_API_URL=http://external-api.com/info
```
---

# Установка
#### Клонируем
```bash
  git clone https://github.com/<yourusername>/REST_API_Songs.git
```

---

# Запуск
 - Настройка пеменных окружения => создаем .env файл (из описанного выше примера)
 - Запуск миграции бд и сервиса 

```bash 
  go run ./cmd/
```

---

# Проверка Swagger документации 

#### Для проверки документации требуется  по ссылке http://localhost:8080/swagger/index.html

---